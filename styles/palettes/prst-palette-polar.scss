@use "sass:list";

[data-asri-palette="polar"] {
  &[data-theme-mode="light"] {
    --polar-base-accent: #000;
    --asri-theme-accent-customized: var(--polar-base-accent);
    --b3-theme-primary: var(--polar-base-accent);
    --b3-theme-accent: #2752fd;

    --b3-theme-surface: #eef1f3;

    --b3-theme-on-background: #16192f;
    --b3-theme-on-surface: #16192fa2;

    // .layout__center
    //   :not(.av__views)
    //   > .layout-tab-bar
    //   .item:not(.item--readonly, .item--full.item--focus):hover,
    // .layout__center :not(.av__views) > .layout-tab-bar .item--focus {
    //   background-color: #c7ea008e;
    // }

    // [data-type="wnd"]:not(.layout__wnd--active)
    //   :not(.av__views)
    //   > .layout-tab-bar
    //   .item--focus {
    //   background-color: #c7ea0052 !important;
    // }

    :is(.layout, .b3-typography) {
      --b3-theme-primary: var(--b3-theme-accent);
      --b3-theme-primary-lighter: oklch(
        from var(--b3-theme-primary) l c h / 0.38
      );
    }
  }

  &[data-theme-mode="dark"] {
    --polar-base-accent: #fff;
    --asri-theme-accent-customized: #50f555;
    --b3-theme-primary: var(--polar-base-accent);

    --b3-theme-background: #000;
    --b3-theme-surface: #1f1f22;

    --b3-theme-on-background: #dbe2e5;
    --b3-theme-on-surface: #dbe2e5a2;

    :is(.layout, .b3-typography) {
      --b3-theme-primary: #50f555;
      --b3-theme-primary-lighter: oklch(
        from var(--b3-theme-primary) l c h / 0.38
      );
    }

    .code-block,
    code {
      box-shadow: 0 0 0 1px #fff3;
    }
  }

  .protyle-title__input,
  [data-type="NodeHeading"],
  :where(h1, h2, h3, h4, h5, h6) {
    color: var(--b3-theme-primary);
  }

  // @supports (color: oklch(from #00f l clamp(0, c, 0.2) calc(h + 0))) {
  //   :is(.layout, .b3-typography) {
  //     --heading-clr-primary-base: #50f555;
  //     --hchs: 45; // heading color hue shift. [0, 60]

  //     @for $i from 1 through 6 {
  //       --heading-clr-primary-h#{$i}: oklch(
  //         from var(--heading-clr-primary-base)
  //           0.8
  //           clamp(0, c, 2)
  //           calc(h + var(--hchs) * #{$i - 1})
  //       );
  //     }
  //   }

  //   @for $i from 1 through 6 {
  //     $lv: ":is(.h#{$i}, h#{$i})";

  //     #{$lv} {
  //       color: var(--heading-clr-primary-h#{$i});

  //       --b3-theme-primary: var(--heading-clr-primary-h#{$i});
  //     }
  //   }
  // }
}

#barWorkspace,
#message,
.b3-button--outline:hover,
.b3-dialog__action .b3-button--text,
#transactionError + .b3-dialog__action button:last-child,
#configBazaarReadme .item__side .b3-button:not(.b3-button--progress):hover,
.protyle-breadcrumb__icon:hover,
.protyle-breadcrumb__item,
.config-account__info .b3-button,
.b3-menu,
.b3-switch,
.b3-button--outline,
.protyle-breadcrumb__icon {
  // [data-asri-palette="polar"][data-theme-mode="light"] & {
  //   --b3-theme-primary: var(--polar-base-accent);
  //   --b3-theme-on-primary: var(--b3-theme-on-background);
  // }

  [data-asri-palette="polar"][data-theme-mode="dark"] & {
    --b3-theme-primary: var(--polar-base-accent);
    --b3-theme-on-primary: #000;
  }
}

// .b3-button--outline,
// .protyle-breadcrumb__icon {
//   [data-asri-palette="polar"][data-theme-mode="light"] & {
//     --b3-theme-primary: var(--b3-theme-accent);
//   }
// }

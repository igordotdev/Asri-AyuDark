(()=>{"use strict";var n={2:function(n,t,e){var o=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function s(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,u)}c((o=o.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.t=function(){return o(this,void 0,void 0,(function*(){(0,s.o)(),(0,v.i)(),(0,p.u)(),(0,M.l)(),(0,w.m)(),(0,b.v)(),yield(0,l.h)(),(0,l._)(),c.M.p||(yield(0,r.k)(),yield(0,y.C)("initials"),(0,y.O)()),F(),(0,m.j)(),k.start(document,"mouseup"),x.start(document,"dragend"),C.start(document,"keyup",!0),O.start(window,"focus"),O.start(window,"blur"),j.start(document,"selectionchange"),S.observe(document.body,u.S),A.start(_.P,"change"),l.I.start(document,"mouseup"),l.A.start(document,"mouseup"),c.L.$||(yield(0,s.T)(".layout__center")),c.M.p||(P.observe(c.L.$),I.observe(document.body))}))},t.F=function(){return o(this,arguments,void 0,(function*(n=!0){var t;n&&(c.M.p||(yield(0,y.B)()),(0,m.R)(),(0,g.N)(),(0,a.H)(),(0,m.V)(),(0,b.D)(),(0,h.q)(),(0,w.W)(),(0,w.U)(),(0,v.J)(),(0,p.K)(),(0,M.Y)(),document.body.classList.remove("body-asri--fullscreen","asri-tfp","asri-tfp-acrylic","asri-tfp-progressive","asri-c-0"),(0,l.G)(),(0,s.X)(),(0,f.Z)()),k.remove(document,"mouseup"),x.remove(document,"dragend"),C.remove(document,"keyup",!0),O.remove(window,"focus"),O.remove(window,"blur"),j.remove(document,"selectionchange"),S.disconnect(),A.remove(_.P,"change"),l.I.remove(document,"mouseup"),l.A.remove(document,"mouseup"),c.M.p||(P.disconnect(),I.disconnect()),null===(t=document.querySelectorAll("#snippetCSS-asri-var-root"))||void 0===t||t.forEach((n=>n.remove()))}))};const i=e(796),r=e(937),s=e(629),u=e(766),c=e(49),a=e(12),l=e(689),d=e(640),f=e(425),m=e(818),v=e(261),h=e(54),_=e(288),b=e(863),p=e(832),g=e(844),w=e(414),y=e(376),M=e(130),k=new i.nn(T),x=new i.nn(T),C=new i.nn(T),O=new i.nn((function(n){(0,r.k)().then((()=>{F(),!c.M.tn&&l.followSysAccentColor&&c.M.en&&(0,l.rn)()}))})),j=new i.nn(h.sn),S=new u.un((function(n,t){return o(this,void 0,void 0,(function*(){var t,e;for(let o of n){const n=o.target;if(n.classList.contains("body--blur"))return;if(n.classList.contains("b3-list-item--focus")&&(0,g.cn)(),n.classList.contains("item--focus")){const e=null!==(t=n.getAttribute("data-id"))&&void 0!==t?t:void 0;(0,b.v)(e),e&&l.an[l.ln].followCoverImgColor&&(0,d.dn)(e)}if(n.classList.contains("layout__wnd--active")){const t=n.querySelector(".layout__center .layout-tab-container>[data-id]:not(.fn__none)");if(!t)return;const o=null!==(e=t.getAttribute("data-id"))&&void 0!==e?e:void 0;(0,b.v)(o),o&&l.an[l.ln].followCoverImgColor&&(0,d.dn)(o)}}}))})),P=new u.fn((function(n,t){(0,y.mn)(0,$,r.vn).then(y.hn),(0,a._n)(),(0,w.bn)()})),I=new u.fn((function(n,t){for(let t of n){$=!0,B();const{inlineSize:n}=t.contentBoxSize[0];if(t.target instanceof HTMLElement){if(!t.target.dataset.pn){t.target.dataset.pn=n+"";continue}const e=n-parseFloat(t.target.dataset.pn);t.target.dataset.pn=n+"",L=e}}})),A=new i.nn((function(n){(0,_.gn)(600,(()=>{}),200)}));let $=!1,L=0;function T(n){(0,l.wn)(n),(0,a.yn)(n),F(n),(0,_.Mn)(n)}function F(n){return o(this,void 0,void 0,(function*(){function t(){setTimeout((()=>o(this,void 0,void 0,(function*(){(0,m.kn)(),(0,w.bn)(),(0,w.m)(),yield(0,r.k)(),(0,a.xn)(),(0,m.j)(),!c.M.tn&&l.followSysAccentColor&&c.M.en&&(0,l.rn)()}))),0)}n?(n.type.startsWith("mouseup")||n.type.startsWith("drag")||n instanceof KeyboardEvent&&("Control"===n.key||"Alt"===n.key||"Shift"===n.key||"Meta"===n.key))&&(t(),Promise.resolve().then((()=>((0,y.Cn)(),(0,y.mn)(0,!1,r.vn)))).then(y.hn)):(t(),(0,y.mn)().then(y.hn))}))}const B=(0,s.On)((()=>{$=!1,(0,y.jn)(),(0,r.Sn)(),r.vn||(0,y.Cn)(),(0,y.mn)(L,$,r.vn).then(y.hn),L=0}),200)},8:(n,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Pn=t.In=t.An=t.$n=t.Ln=t.Tn=t.Fn=t.Bn=t.Rn=t.Nn=t.Hn=t.Vn=t.zn=t.Dn=t.En=t.qn=t.Wn=t.Un=t.Jn=t.Kn=t.Yn=t.Gn=t.Qn=t.Xn=t.Zn=t.followSysAccentColor=t.nt=t.tt=t.et=t.ot=t.i18n=t.ln=void 0,t.et=!1,t.tt=!1,t.nt=!1,t.followSysAccentColor=!1;t.qn=n=>{t.ln=n};t.En=n=>{t.i18n=n};t.Dn=n=>{t.ot=n};t.zn=n=>{t.et=n};t.Vn=n=>{t.tt=n};t.Hn=n=>{t.nt=n};t.Nn=n=>{t.followSysAccentColor=n};t.Rn=n=>{t.Zn=n};t.Bn=n=>{t.Xn=n};t.Fn=n=>{t.Qn=n};t.Tn=n=>{t.Gn=n};t.Ln=n=>{t.Yn=n};t.$n=n=>{t.Kn=n};t.An=n=>{t.Jn=n};t.In=n=>{t.Un=n};t.Pn=n=>{t.Wn=n}},12:function(n,t,e){var o=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function s(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,u)}c((o=o.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t._n=void 0,t.xn=d,t.yn=function(n){return o(this,void 0,void 0,(function*(){var t,e,s;if("mouseup"!==n.type)return;l||(l=yield(0,u.it)());const d=n.target,f=d.closest(".ariaLabel");if(!f)return;const m=f.dataset.type,v=d.closest(".protyle-title__icon")||"doc"===f.dataset.type?"doc":void 0,h=c.includes(m)?m:v;if(!h)return;const _="doc"===h?null!==(t=f.parentElement.dataset.nodeId)&&void 0!==t?t:null===(s=null===(e=f.closest(".protyle"))||void 0===e?void 0:e.querySelector(".protyle-title"))||void 0===s?void 0:s.dataset.nodeId:f.dataset.nodeId;a=yield(0,r.T)("#commonMenu:not(.fn__none)"),function(n,t){o(this,void 0,void 0,(function*(){const e="doc"===n;!function(n){o(this,void 0,void 0,(function*(){var t,e;if(!a||document.getElementById("afwdMenuItem-clear"))return;const o=a.lastChild,i=document.createElement("button");i.className="b3-menu__item";const r=document.createElement("button");r.className="b3-menu__separator";const s=`\n        <button class="b3-menu__item b3-menu__item--custom" id="afwdMenuItem-on">\n            <svg class="b3-menu__icon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">\n            <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="m9 12l2 2l4-4"/></g>\n            </svg>\n            <span class="b3-menu__label">${l["afwdMenuItem-on"]}</span>\n        </button>\n        <button class="b3-menu__item b3-menu__item--custom" id="afwdMenuItem-off">\n            <svg class="b3-menu__icon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">\n            <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="m15 9l-6 6m0-6l6 6"/></g>\n            </svg>\n            <span class="b3-menu__label">${l["afwdMenuItem-off"]}</span>\n        </button>\n    `,u=`\n        <button class="b3-menu__item b3-menu__item--custom" id="afwdMenuItem-all">\n            <span class="b3-menu__label">\n                <div class="fn__flex">\n                    <svg class="b3-menu__icon" style=""></svg>\n                    <span>${l["afwdMenuItem-all"]}</span>\n                    <span class="fn__space fn__flex-1"></span>\n                    <input type="checkbox" class="b3-switch fn__flex-center">\n                </div>\n            </span>\n        </button>\n        <button class="b3-menu__item b3-menu__item--custom" id="afwdMenuItem-db">\n            <span class="b3-menu__label">\n                <div class="fn__flex">\n                    <svg class="b3-menu__icon" style=""><use xlink:href="#iconDatabase"></use></svg>\n                    <span>${l["afwdMenuItem-db"]}</span>\n                    <span class="fn__space fn__flex-1"></span>\n                    <input type="checkbox" class="b3-switch fn__flex-center">\n                </div>\n            </span>\n        </button>\n        <button class="b3-menu__item b3-menu__item--custom" id="afwdMenuItem-t">\n            <span class="b3-menu__label">\n                <div class="fn__flex">\n                    <svg class="b3-menu__icon" style=""><use xlink:href="#iconTable"></use></svg>\n                    <span>${l["afwdMenuItem-t"]}</span>\n                    <span class="fn__space fn__flex-1"></span>\n                    <input type="checkbox" class="b3-switch fn__flex-center">\n                </div>\n            </span>\n        </button>\n        <button class="b3-menu__item b3-menu__item--custom" id="afwdMenuItem-p">\n            <span class="b3-menu__label">\n                <div class="fn__flex">\n                    <svg class="b3-menu__icon"><use xlink:href="#iconImage"></use></svg>\n                    <span>${l["afwdMenuItem-p"]}</span>\n                    <span class="fn__space fn__flex-1"></span>\n                    <input type="checkbox" class="b3-switch fn__flex-center">\n                </div>\n            </span>\n        </button>\n        <button class="b3-menu__item b3-menu__item--custom" id="afwdMenuItem-iframe">\n            <span class="b3-menu__label">\n                <div class="fn__flex">\n                    <svg class="b3-menu__icon"><use xlink:href="#iconHTML5"></use></svg>\n                    <span>${l["afwdMenuItem-iframe"]}</span>\n                    <span class="fn__space fn__flex-1"></span>\n                    <input type="checkbox" class="b3-switch fn__flex-center">\n                </div>\n            </span>\n        </button>\n        <button class="b3-menu__item b3-menu__item--custom" id="afwdMenuItem-sb">\n            <span class="b3-menu__label">\n                <div class="fn__flex">\n                    <svg class="b3-menu__icon"><use xlink:href="#iconSuper"></use></svg>\n                    <span>${l["afwdMenuItem-sb"]}</span>\n                    <span class="fn__space fn__flex-1"></span>\n                    <input type="checkbox" class="b3-switch fn__flex-center">\n                </div>\n            </span>\n        </button>\n    `,c=`\n        <svg class="b3-menu__icon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 18 18">\n            <path fill="currentColor" d="m15.503 15.003l-.735.71a.75.75 0 1 0 1.042 1.078l1.886-1.82a1 1 0 0 0 0-1.44l-1.886-1.82a.75.75 0 0 0-1.042 1.079l.739.713H12.75a.75.75 0 0 0 0 1.5zM15 3a2 2 0 0 1 2 2v4.25a.75.75 0 0 1-1.5 0V5a.5.5 0 0 0-.5-.5H5a.5.5 0 0 0-.5.5v4.25a.75.75 0 0 1-1.5 0V5a2 2 0 0 1 2-2zM5.234 15.712l-.735-.71h2.752a.75.75 0 1 0 0-1.5H4.495l.739-.713a.75.75 0 0 0-1.042-1.078l-1.886 1.82a1 1 0 0 0 0 1.44l1.886 1.82a.75.75 0 0 0 1.042-1.079"/>\n        </svg>\n        <span class="b3-menu__label">${l.afwdDocMenuLabel}</span>\n        <svg class="b3-menu__icon b3-menu__icon--small">\n            <use xlink:href="#iconRight"></use>\n        </svg>\n        <div class="b3-menu__submenu">\n            <div class="b3-menu__items">\n                ${"doc"===n?u:s}\n                <button class="b3-menu__separator"></button>\n                <button class="b3-menu__item" id="afwdMenuItem-clear">\n                    <svg class="b3-menu__icon " style=""><use xlink:href="#iconTrashcan"></use></svg>\n                    <span class="b3-menu__label">${l["afwdMenuItem-clear"]}\n                    </span>\n                </button>\n            </div>\n        </div>\n    `;if(i.innerHTML=c,o.insertBefore(i,null===(t=o.lastChild)||void 0===t?void 0:t.previousSibling),o.insertBefore(r,i),"doc"!==n)return;const d=document.createElement("button");d.className="b3-menu__item";const f=`\n        <svg class="b3-menu__icon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 22 22">\n            <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 5h-3m-5 0h5m-5 0v10m0-10h-1c-1.667 0-5 1-5 5s3.333 5 5 5h1m0 4v-4m5 4V5"/>\n        </svg>\n        <span class="b3-menu__label">${l.tdirDocMenuLabel}</span>\n        <svg class="b3-menu__icon b3-menu__icon--small">\n            <use xlink:href="#iconRight"></use>\n        </svg>\n        <div class="b3-menu__submenu">\n            <div class="b3-menu__items">\n                <button class="b3-menu__item b3-menu__item--custom" id="tdirMenuItem-ltr">\n                    <svg class="b3-menu__icon " style=""><use xlink:href="#iconLtr"></use></svg>\n                    <span class="b3-menu__label">${l["tdirMenuItem-ltr"]}</span>\n                </button>\n                <button class="b3-menu__item b3-menu__item--custom" id="tdirMenuItem-rtl">\n                    <svg class="b3-menu__icon " style=""><use xlink:href="#iconRtl"></use></svg>\n                    <span class="b3-menu__label">${l["tdirMenuItem-rtl"]}</span>\n                </button>                \n                <button class="b3-menu__separator"></button>\n                <button class="b3-menu__item" id="tdirMenuItem-clear">\n                    <svg class="b3-menu__icon " style=""><use xlink:href="#iconTrashcan"></use></svg>\n                    <span class="b3-menu__label">${l["afwdMenuItem-clear"]}\n                    </span>\n                </button>\n            </div>\n        </div>\n    `;d.innerHTML=f,o.insertBefore(d,null===(e=o.lastChild)||void 0===e?void 0:e.previousSibling)}))}(n);const r=yield(0,i.rt)(t);let s=r["custom-afwd"],u=r["custom-tdir"];if(s||(s=""),u||(u=""),s=s.split(" "),s.length>0)if(e){if(s.forEach((n=>{const t=document.getElementById(`afwdMenuItem-${n}`);t&&(t.querySelector("input").checked=!0)})),s.includes("all")){const n=null==a?void 0:a.querySelectorAll("button[id^=afwdMenuItem]:not(#afwdMenuItem-all, #afwdMenuItem-clear)");null==n||n.forEach((n=>{n.classList.add("b3-menu__item--disabled"),n.querySelector("input").disabled=!0}))}}else{const n=document.getElementById(`afwdMenuItem-${s[0]}`);n&&n.classList.add("b3-menu__item--selected")}if(u.length&&e){const n=document.getElementById(`tdirMenuItem-${u}`);n&&n.classList.add("b3-menu__item--selected")}!function(n,t,e,o){const r=null==a?void 0:a.querySelectorAll("button[id^=afwdMenuItem]:not(#afwdMenuItem-clear)"),s=null==a?void 0:a.querySelectorAll("button[id^=tdirMenuItem]:not(#tdirMenuItem-clear)");let u=[];const c=[...r].filter((n=>"afwdMenuItem-all"!==n.id));n?(null==r||r.forEach((n=>{n.onclick=o=>{if(n.classList.contains("b3-menu__item--disabled"))return;const r=n.querySelector("input"),s=n.id.split("-")[1];let a=r.checked;o.target===r?a=!a:r.checked=!a,a?"all"===s?(c.forEach((n=>{n.classList.remove("b3-menu__item--disabled"),n.querySelector("input").disabled=!1})),e=u.length>0?u:[]):e=e.filter((n=>n!==s)):"all"===s?(e.includes("all")||(u=e),e=["all"],c.forEach((n=>{n.classList.add("b3-menu__item--disabled"),n.querySelector("input").disabled=!0}))):e.push(s),(0,i.st)(t,{"custom-afwd":e.join(" ")||""})}})),null==s||s.forEach(((n,e,r)=>{n.onclick=()=>{const s=n.id.split("-")[1];n.classList.contains("b3-menu__item--selected")?(n.classList.remove("b3-menu__item--selected"),o=[]):(o=[s],n.classList.add("b3-menu__item--selected"),r[1-e].classList.remove("b3-menu__item--selected")),(0,i.st)(t,{"custom-tdir":`${o.join("")}`})}}))):null==r||r.forEach(((n,o,r)=>{n.onclick=()=>{const s=n.id.split("-")[1];n.classList.contains("b3-menu__item--selected")?(e=[],n.classList.remove("b3-menu__item--selected")):(e=[s],n.classList.add("b3-menu__item--selected"),r[1-o].classList.remove("b3-menu__item--selected")),(0,i.st)(t,{"custom-afwd":(null==e?void 0:e.join(" "))||""})}}));const l=document.getElementById("afwdMenuItem-clear");if(!l)return;if(l.onclick=()=>{e=[],u=[],(0,i.st)(t,{"custom-afwd":""}),r.forEach((t=>{if(t.classList.remove("b3-menu__item--disabled"),t.classList.remove("b3-menu__item--selected"),n){const n=t.querySelector("input");n.disabled=!1,n.checked=!1}}))},!n)return;const d=document.getElementById("tdirMenuItem-clear");if(!d)return;d.onclick=()=>{o=[],(0,i.st)(t,{"custom-tdir":""}),s.forEach((n=>{n.classList.remove("b3-menu__item--selected")}))}}(e,t,s,u)}))}(h,_)}))},t.H=function(){null===s.ut||void 0===s.ut||s.ut.forEach((n=>{(n.querySelector(".file-tree")?[]:n.querySelectorAll(".protyle-wysiwyg")).forEach((n=>{n.style.removeProperty("--protyle-spacing"),n.dataset.ct=void 0}))}))};const i=e(613),r=e(629),s=e(937),u=e(689);t._n=(0,r.On)(d,200);const c=["NodeParagraph","NodeTable","NodeAttributeView","NodeSuperBlock","NodeVideo","NodeWidget","NodeIFrame"];let a,l=u.i18n;function d(){null===s.ut||void 0===s.ut||s.ut.forEach((n=>{let t=n.querySelector(".file-tree")?[]:n.querySelectorAll(".protyle-wysiwyg");setTimeout((()=>{t.forEach((n=>{let t;t=n.style.paddingLeft,t!==n.dataset.ct&&(n.style.setProperty("--protyle-spacing",t),n.dataset.ct=t)}))}),300)}))}},21:n=>{n.exports=require("@electron/remote")},49:(n,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.M=t.L=void 0;const e=navigator.userAgent;let o=null,i=null,r=null,s=null,u=null,c=null,a=null,l=null,d=null,f=null,m=null,v=null,h=null,_=null,b=null,p=null,g=null,w=null;t.L={get lt(){return null!=o?o:o=document.getElementById("layouts")},get $(){return null!=i?i:i=document.querySelector(".layout__center")},get toolbar(){return null!=r?r:r=document.getElementById("toolbar")},get dt(){return null!=s?s:s=document.getElementById("dockLeft")},get ft(){return null!=u?u:u=document.getElementById("dockRight")},get vt(){return null!=c?c:c=document.getElementById("dockBottom")},get status(){return null!=a?a:a=document.getElementById("status")},get ht(){return null!=l?l:l=document.querySelector(".layout__dockl")},get _t(){return null!=d?d:d=document.querySelector(".layout__dockr")},get bt(){return null!=f?f:f=document.querySelector(".layout__dockb")},get gt(){return null!=m?m:m=document.getElementById("barSync")},get wt(){return null!=v?v:v=document.getElementById("barForward")},get yt(){return null!=h?h:h=document.getElementById("toolbarVIP")},get Mt(){return null!=_?_:_=document.getElementById("drag")},get kt(){return null!=b?b:b=document.getElementById("barPlugins")},get xt(){return null!=p?p:p=document.getElementById("barSearch")},get Ct(){return null!=g?g:g=document.getElementById("barMode")},get Ot(){return null!=w?w:w=document.getElementById("barMore")}},t.M={jt:navigator.platform.indexOf("Mac")>-1,St:navigator.platform.indexOf("Linux")>-1,Pt:/Android/.test(e),p:!!document.getElementById("sidebar"),It:!e.startsWith("SiYuan")||e.indexOf("iPad")>-1||/Android/.test(e)&&!/(?:Mobile)/.test(e),At:document.body.classList.contains("body--window"),tn:(/iOS/i.test(e)||/iPad/i.test(e))&&/AppleWebKit/i.test(e)&&e.startsWith("SiYuan/"),lang:window.siyuan.config.lang,en:CSS.supports("color","oklch(from red calc(l * 0.5) 0 h)"),$t:window.siyuan.config.readonly,Lt:window.siyuan.config.appearance.mode>0?"dark":"light",Tt:/^((?!chrome|android).)*safari/i.test(e)}},54:(n,t)=>{function e(){document.querySelectorAll(".asri-selected-block").forEach((n=>n.classList.remove("asri-selected-block")))}Object.defineProperty(t,"__esModule",{value:!0}),t.sn=function(n){const t=new Promise((n=>{const t=()=>{document.removeEventListener("mouseup",t,!0),n()};document.addEventListener("mouseup",t,!0)})),o=new Promise((n=>{setTimeout(n,300)})),i=new Promise((n=>{const t=()=>{document.removeEventListener("keyup",t,!0),n()};document.addEventListener("keyup",t,!0)}));Promise.race([t,i,o]).then((()=>{const n=window.getSelection(),t=n&&n.rangeCount>0?n.getRangeAt(0):null;if(!t)return;const o=t.commonAncestorContainer.parentElement,i=o?o.closest("[data-node-id]"):null;if(!i)return;const r=i.getAttribute("data-type");e(),r&&!["NodeAttributeView","NodeCodeBlock","NodeList","NodeHTMLBlock"].includes(r)&&i.classList.add("asri-selected-block")}))},t.q=e},105:function(n,t,e){var o=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function s(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,u)}c((o=o.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.it=function(){return o(this,void 0,void 0,(function*(){let n;try{n=["zh_CN","zh_CHT","en_US","ar_SA"].includes(i.M.lang)?yield fetch(`/appearance/themes/Asri/i18n/${i.M.lang}.json`):yield fetch("/appearance/themes/Asri/i18n/en_US.json");return yield n.json()}catch(n){throw n}}))};const i=e(49)},130:(n,t,e)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.l=function(){i.M.jt&&(i.M.It||r(16),i.M.At&&r(14))},t.Y=function(){i.M.jt&&(i.M.It||r(8),i.M.At&&r(8,13))};const o=e(571),i=e(49);function r(n,t=n){o.remote&&o.remote.getCurrentWindow().setWindowButtonPosition({x:n,y:t})}},138:function(n,t,e){var o=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function s(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,u)}c((o=o.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t._=function(){return o(this,void 0,void 0,(function*(){if((0,c.qn)(i.M.Lt),yield(0,s.Ft)(),!i.M.en)return;if(i.M.It||i.M.p||i.M.St||!c.followSysAccentColor&&!s.an[c.ln].followCoverImgColor?(a.Bt.setProperty("--asri-user-custom-accent",s.an[c.ln].userCustomColor),a.Bt.removeProperty("--asri-cover-dominant"),(0,d.Rt)(s.an[c.ln].userCustomColor)):(a.Bt.removeProperty("--asri-user-custom-accent"),a.Bt.removeProperty("--asri-cover-dominant")),s.an[c.ln].presetPalette){const n=s.an[c.ln].presetPalette,t=u.Nt[n][c.ln];document.documentElement.setAttribute("data-asri-palette",n.split("-")[2]),(0,c.Nn)(!1),a.Bt.setProperty("--asri-user-custom-accent",t.primary),a.Bt.setProperty("--asri-c-factor",t.chroma),a.Bt.removeProperty("--asri-cover-dominant"),(0,c.Vn)("0"===t.chroma),(0,d.Ht)(t.chroma),(0,d.Rt)(t.primary)}else s.an[c.ln].followCoverImgColor?(a.Bt.setProperty("--asri-c-factor",s.an[c.ln].chroma),document.documentElement.removeAttribute("data-asri-palette"),(0,f.dn)(void 0,!0)):(a.Bt.setProperty("--asri-c-factor",s.an[c.ln].chroma),document.documentElement.removeAttribute("data-asri-palette"),(0,c.Vn)("0"===s.an[c.ln].chroma),(0,d.Ht)(s.an[c.ln].chroma));(0,l.rn)(),s.an.features.tfp&&document.body.classList.add("asri-tfp","asri-tfp-"+s.an.features.tfp)}))},t.G=function(){a.Bt.Vt(),f.zt.Vt(),document.body.classList.remove("asri-c-0"),document.querySelectorAll(".asri-config").forEach((n=>n.remove()))},t.Dt=function(){return o(this,void 0,void 0,(function*(){const n=yield(0,r.it)();return(0,c.En)(n),n}))};const i=e(49),r=e(105),s=e(202),u=e(929),c=e(8),a=e(406),l=e(217),d=e(425),f=e(640)},202:function(n,t,e){var o=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function s(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,u)}c((o=o.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.an=void 0,t.Ft=function(){return o(this,void 0,void 0,(function*(){yield(0,i.getFile)("/data/snippets/Asri.config.json").then((n=>n&&200===n.status?n.json():null)).then((n=>{var e,o,i;if(!n)return;for(let e in t.an)e in n||(n[e]=t.an[e]);const u=["light","dark"];for(const r of u)t.an[r].followSysAccentColor=!!n[r].followSysAccentColor,t.an[r].followCoverImgColor=!!n[r].followCoverImgColor,t.an[r].chroma=null!==(e=n[r].chroma)&&void 0!==e?e:"1",t.an[r].userCustomColor=null!==(o=n[r].userCustomColor)&&void 0!==o?o:"#3478f6",t.an[r].presetPalette=null!==(i=n[r].presetPalette)&&void 0!==i?i:"";t.an.features=n.features,(0,s.Nn)(!!n[r.M.Lt].followSysAccentColor)}))}))},t.Et=function(){return o(this,void 0,void 0,(function*(){yield(0,i.qt)("/data/snippets/Asri.config.json",JSON.stringify(t.an,void 0,4))}))};const i=e(613),r=e(49),s=e(8);t.an={light:{followSysAccentColor:!1,followCoverImgColor:!1,chroma:"1",userCustomColor:"#3478f6",presetPalette:""},dark:{followSysAccentColor:!1,followCoverImgColor:!1,chroma:"1",userCustomColor:"#3478f6",presetPalette:""},features:{tfp:""}}},217:(n,t,e)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rn=function(){if(r.M.It||r.M.p||r.M.St)return;const n="#"+o.remote.systemPreferences.getAccentColor().slice(0,6),t=(0,i.Wt)(n);if(!t)return;u.ot!==n&&(s.Bt.setProperty("--asri-sys-accent",n),t.s>.28?s.Bt.setProperty("--asri-sys-accent-accessible",n):s.Bt.removeProperty("--asri-sys-accent-accessible"),(0,u.zn)(0===t.s),(0,u.Dn)(n));u.followSysAccentColor&&((0,c.Ht)(t.s),(0,c.Rt)(n))};const o=e(571),i=e(379),r=e(49),s=e(406),u=e(8),c=e(425)},261:(n,t,e)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.i=function(){i.forEach((({Ut:n,className:t})=>{n&&document.body.classList.add(t)}))},t.J=function(){i.forEach((({className:n})=>{document.body.classList.remove(n)}))};const o=e(49),i=[{Ut:o.M.jt,className:"body-asri--mac"},{Ut:o.M.St,className:"body-asri--linux"},{Ut:o.M.p,className:"body-asri--mobile"},{Ut:o.M.It,className:"body-asri--browser"},{Ut:o.M.Pt,className:"body-asri--android"},{Ut:o.M.tn,className:"body-asri--iosApp"},{Ut:o.M.$t,className:"body-asri--readOnly"},{Ut:o.M.Tt,className:"body-asri--safari"}]},276:function(n,t,e){var o=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function s(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,u)}c((o=o.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.wn=function(n){return o(this,void 0,void 0,(function*(){var t,e;if("mouseup"!==n.type)return;if(!n.target.closest(".toolbar__item"))return;if(document.querySelector(".asri-config"))return;let o=yield(0,i.T)('#commonMenu[data-name="barmode"] .b3-menu__items',document,2,0);if(!o)return;const d=`\n        <button class="b3-menu__separator asri-config"></button>\n        <div class="menu-item__subtitle" style="user-select: none;">${c.i18n["palette-presets"]}</div>\n        ${Object.keys(u.Nt).map((n=>a(n))).join("")}\n        <button class="b3-menu__separator asri-config"></button>\n        <button class="b3-menu__item asri-config" id="pickColor">\n            <svg class="b3-menu__icon"></svg>\n            <input id="asriColorPicker" type="color" value="${r.an[c.ln].userCustomColor}">\n            <label for="asriColorPicker" class="be-menu__label">${c.i18n.pickColor}</label>\n        </button>\n        <button class="b3-menu__item asri-config" id="followSysAccent">\n            <svg class="b3-menu__icon"></svg>\n            <label for="" class="be-menu__label">${c.i18n.followSysAccent}</label>\n        </button>\n        <button class="b3-menu__item asri-config" id="followCoverImgColor">\n            <svg class="b3-menu__icon"></svg>\n            <label for="" class="be-menu__label">${c.i18n.followCoverImgColor||"follow cover img color"}</label>\n        </button>\n        <button class="b3-menu__item asri-config" data-type="nobg" id="asriChroma">\n            <svg class="b3-menu__icon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">\n                <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 11l-8-8l-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0zM5 2l5 5m-8 6h15m5 7a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4c.3 1.6 2 2.4 2 4" />\n            </svg>\n            <div aria-label="${c.i18n.asriChroma+(null!==(e=null!==(t=null===c.Gn||void 0===c.Gn?void 0:c.Gn.value)&&void 0!==t?t:r.an[c.ln].chroma)&&void 0!==e?e:"1")}" class="b3-tooltips b3-tooltips__n">\n                <input style="box-sizing: border-box" type="range" id="asriChromaSlider" class="b3-slider fn__block" min="0" max="5" step="0.1" value="1">\n            </div>\n        </button>\n        <button class="b3-menu__separator asri-config"></button>\n        <button class="b3-menu__item asri-config" id="topbarFusionPlus"></button>\n`,f=document.createRange().createContextualFragment(d);o.appendChild(f),(0,c.Rn)(document.getElementById("followSysAccent")),(0,c.Bn)(document.getElementById("followCoverImgColor")),(0,c.Fn)(document.getElementById("pickColor")),(0,c.Tn)(document.getElementById("asriChromaSlider")),(0,c.Ln)(c.Qn.querySelector("input")),(0,c.$n)(document.getElementById("topbarFusionPlus"));const m=document.getElementById("topbarFusionPlus");m&&(m.innerHTML=`\n        <svg class="b3-menu__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="m8 10.5l6.492-6.492M13.496 16L20 9.496zm-4.91-.586L19.413 4.587M8 6a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2z"/><path d="M16 16v2a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2"/></g></svg>\n        <span class="b3-menu__label" style="display: flex">${c.i18n.topbarFusionPlus}<svg data-position="north" class="b3-menu__icon ariaLabel asri-experimental" aria-label=${'"'+c.i18n["tfp-experimental"]+'"'} style="vertical-align: -.1em; height: .8em; width: .8em; opacity: .5; padding-inline-start: .1em; margin-right: unset;margin-inline-start: auto; margin-inline-end: 0;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2M6.453 15h11.094M8.5 2h7"/></svg></span>\n        <svg class="b3-menu__icon b3-menu__icon--small">\n            <use xlink:href="#iconRight"></use>\n        </svg>\n        <div class="b3-menu__submenu">\n            <div class="b3-menu__items">\n                <button class="b3-menu__item" id="tfp-luminous">\n                    <svg class="b3-menu__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="m8 10.5l6.492-6.492M13.496 16L20 9.496zm-4.91-.586L19.413 4.587M8 6a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2z"/><path d="M16 16v2a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2"/></g></svg>\n                    <span class="b3-menu__label">${c.i18n["tfp-luminous"]}</span>\n                </button>\n                <button class="b3-menu__item" id="tfp-progressive">\n                    <svg class="b3-menu__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="m8 10.5l6.492-6.492M13.496 16L20 9.496zm-4.91-.586L19.413 4.587M8 6a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2z"/><path d="M16 16v2a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2"/></g></svg>\n                    <span class="b3-menu__label">${c.i18n["tfp-progressive"]}</span>\n                </button>                                \n                <button class="b3-menu__item" id="tfp-acrylic">\n                    <svg class="b3-menu__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="m8 10.5l6.492-6.492M13.496 16L20 9.496zm-4.91-.586L19.413 4.587M8 6a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2z"/><path d="M16 16v2a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2"/></g></svg>\n                    <span class="b3-menu__label">${c.i18n["tfp-acrylic"]}</span>\n                </button>                \n                <button class="b3-menu__separator"></button>\n                <button class="b3-menu__item" id="tfp-disable">\n                    <svg class="b3-menu__icon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">\n                        <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="m15 9l-6 6m0-6l6 6"/></g>\n                    </svg>\n                    <span class="b3-menu__label">${c.i18n["tfp-disable"]}</span>\n                </button>\n            </div>\n        </div>\n    `),c.Zn&&c.Qn&&c.Gn&&c.Yn&&(l(),(0,s.Jt)())}))},t.Kt=l;const i=e(629),r=e(202),s=e(848),u=e(929),c=e(8),a=n=>`<button class="b3-menu__item asri-config" id="${n}"><svg class="b3-menu__icon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M19 3h-4a2 2 0 0 0-2 2v12a4 4 0 0 0 8 0V5a2 2 0 0 0-2-2"/><path d="m13 7.35l-2-2a2 2 0 0 0-2.828 0L5.344 8.178a2 2 0 0 0 0 2.828l9 9"/><path d="M7.3 13H5a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h12m0-4v.01"/></g></svg><span class="b3-menu__label">${c.i18n[n]||n}</span></button>`;function l(){const n=document.getElementById("asriChroma");if((0,c.An)(document.getElementById("tfp-progressive")),(0,c.In)(document.getElementById("tfp-acrylic")),(0,c.Pn)(document.getElementById("tfp-luminous")),(0,c.Bn)(document.getElementById("followCoverImgColor")),c.Zn.classList.toggle("b3-menu__item--selected",!r.an[c.ln].presetPalette&&c.followSysAccentColor),c.Xn.classList.toggle("b3-menu__item--selected",r.an[c.ln].followCoverImgColor&&!r.an[c.ln].presetPalette&&!c.followSysAccentColor),c.Qn.classList.toggle("b3-menu__item--selected",!r.an[c.ln].presetPalette&&!c.followSysAccentColor&&!r.an[c.ln].followCoverImgColor),c.Gn.value=r.an[c.ln].chroma||"1",c.Gn.parentElement.ariaLabel=c.i18n.asriChroma+r.an[c.ln].chroma,r.an[c.ln].presetPalette){const t=document.getElementById(`${r.an[c.ln].presetPalette}`);null==n||n.classList.add("b3-menu__item--disabled"),null==t||t.classList.add("b3-menu__item--selected")}[c.Jn,c.Un,c.Wn].forEach((n=>{if(n){const t=n.id.replace("tfp-","");n.classList.toggle("b3-menu__item--selected",r.an.features.tfp===t)}}))}},288:function(n,t){var e=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function s(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,u)}c((o=o.apply(n,t||[])).next())}))};function o(){return e(this,arguments,void 0,(function*(n=600,t,o=0){if(document.startViewTransition)if(o>0){const i=n=>new Promise((t=>setTimeout(t,n)));document.startViewTransition((()=>e(this,void 0,void 0,(function*(){yield Promise.race([i(o)]),t&&t()})))).ready.then((()=>{document.documentElement.animate({opacity:[0,1]},{duration:n})}))}else{const e=document.startViewTransition(t),o=document.createElement("style");o.textContent=`\n            ::view-transition-old(root),\n            ::view-transition-new(root) {\n                animation-duration: ${n}ms;\n            }\n        `,document.head.appendChild(o),yield e.finished,o.remove()}else t&&t()}))}Object.defineProperty(t,"__esModule",{value:!0}),t.P=void 0,t.Mn=function(n){return e(this,void 0,void 0,(function*(){if("mouseup"!==n.type)return;n.target.closest('[data-name="barmode"] .b3-menu__item:not([id])')&&o()}))},t.gn=o,t.P=window.matchMedia("(prefers-color-scheme: dark)")},376:function(n,t,e){var o=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function s(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,u)}c((o=o.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.C=g,t.jn=function(){return o(this,void 0,void 0,(function*(){r.M.jt&&((0,s.isFullScreen)()?(document.body.classList.add("body-asri--fullscreen"),h-=p?0:88,p=!0):(document.body.classList.remove("body-asri--fullscreen"),null==c||c.style.setProperty("width","0px"),h=yield g("initials","L"),null==c||c.style.removeProperty("width"),p=!1))}))},t.mn=function(){return o(this,arguments,void 0,(function*(n=0,t=!1,e=!1){if(r.M.At||r.M.p)return{Yt:!1,Gt:0};let s=r.L.$||(yield(0,i.T)(".layout__center"));return new Promise((i=>o(this,void 0,void 0,(function*(){var o,u,a,l,d,w;t&&(_+=n),h&&_||(yield g("initials")),f=s.getBoundingClientRect(),v=r.L.gt.getBoundingClientRect(),m=r.L.wt.getBoundingClientRect();let y=f.left,M=f.right,k=r.L.xt.getBoundingClientRect().left;t||(y>h+8?(null==b||b.style.setProperty("--topbar-left-spacing","0"),r.M.jt&&p||(yield g("initials","L")),null==c||c.classList.remove("asri-expanded")):r.M.jt&&!r.M.It?(b.style.setProperty("--topbar-left-spacing",y-v.right+4+"px"),null==c||c.classList.add("asri-expanded")):(b.style.setProperty("--topbar-left-spacing",y-m.right+4+"px"),null==c||c.classList.add("asri-expanded")),M<_-8&&!e?(b.style.setProperty("--topbar-right-spacing","0"),yield g("initials","R"),null===(o=r.L.ft)||void 0===o||o.style.removeProperty("--avoid-topbar"),null===(u=r.L._t)||void 0===u||u.style.removeProperty("--avoid-topbar")):r.M.jt||r.M.It?(b.style.setProperty("--topbar-right-spacing",window.innerWidth-M+1+"px"),null===(a=r.L.ft)||void 0===a||a.style.setProperty("--avoid-topbar","4px"),null===(l=r.L._t)||void 0===l||l.style.setProperty("--avoid-topbar","4px")):(b.style.setProperty("--topbar-right-spacing",k-M+6+"px"),null===(d=r.L.ft)||void 0===d||d.style.setProperty("--avoid-topbar","calc(var(--toolbar-height) - 6px)"),null===(w=r.L._t)||void 0===w||w.style.setProperty("--avoid-topbar","calc(var(--toolbar-height) - 6px)"))),i({Yt:!0,Gt:M})}))))}))},t.hn=function(){return o(this,arguments,void 0,(function*({Yt:n,Gt:t}={Yt:!1,Gt:0}){var e,c;n&&(l=null===(e=r.L.toolbar)||void 0===e?void 0:e.getBoundingClientRect(),yield g("rect"),f=null===(c=r.L.$)||void 0===c?void 0:c.getBoundingClientRect(),(u||(u=document.getElementById("AsriPluginsIconsDivider")))&&(t<_-8?(u.style.setProperty("--container-bg","var(--b3-border-color-trans))"),u.style.left=t+"px",u.style.right="0",u.style.removeProperty("height"),u.style.removeProperty("top"),u.style.removeProperty("width")):(u.style.setProperty("--container-bg","var(--b3-border-color-trans)"),u.style.left=d.right-10+"px",u.style.width="2px",u.style.height="21px",u.style.top="13.5px")),null===s.ut||void 0===s.ut||s.ut.forEach((n=>o(this,void 0,void 0,(function*(){let t,e=n.querySelector('.fn__flex-column[data-type="wnd"] > .fn__flex:first-child');if(e.classList.contains("fn__none")&&(e=yield(0,i.T)('.fn__flex-column[data-type="wnd"] > .fn__flex:first-child:not(.fn__none)',n,3)),t=null==e?void 0:e.getBoundingClientRect(),!t)return;let o=t.left<d.left?d.left-t.left-4:0,s=t.right>d.right?t.right-d.right+8:0;(0,i.Qt)(e,r.L.Mt)||(0,i.Qt)(e,r.L.toolbar)?(e.style.paddingLeft=o+"px",e.style.paddingRight=s+"px",t.right-s-240<d.left&&t.left<d.left||t.left+o+240>d.right&&t.right>d.right?(e.style.paddingTop="42px",e.style.paddingLeft="0",e.style.paddingRight="0"):e.style.removeProperty("padding-top")):(e.style.removeProperty("padding-left"),e.style.removeProperty("padding-right"),e.style.removeProperty("padding-top"))})))))}))},t.B=function(){return o(this,void 0,void 0,(function*(){var n,t;yield(0,s.k)(),function(){u&&u.remove();c&&(c.remove(),c=void 0);a&&(a.remove(),a=void 0)}(),null===s.ut||void 0===s.ut||s.ut.forEach((n=>{let t=n.firstElementChild;t.style.removeProperty("padding-top"),t.style.removeProperty("padding-left"),t.style.removeProperty("padding-right")})),r.L.$.dataset.pn=void 0,document.body.dataset.pn=void 0,null===(n=r.L.ft)||void 0===n||n.style.removeProperty("--avoid-topbar"),null===(t=r.L._t)||void 0===t||t.style.removeProperty("--avoid-topbar")}))},t.O=function(){if(r.M.p)return;u=w("AsriPluginsIconsDivider",void 0,r.L.Mt),c=r.M.jt&&!r.M.It?w("AsriTopbarLeftSpacing",void 0,r.L.gt):w("AsriTopbarLeftSpacing",void 0,r.L.wt),a=r.M.jt||r.M.It?w("AsriTopbarRightSpacing"):w("AsriTopbarRightSpacing",r.L.xt);const n=document.createElementNS("http://www.w3.org/2000/svg","svg");null==a||a.appendChild(n.cloneNode(!0)),null==u||u.appendChild(n.cloneNode(!0)),null==c||c.appendChild(n.cloneNode(!0))},t.Cn=function(){return o(this,void 0,void 0,(function*(){c&&a&&(c.style.setProperty("width","0px"),a.style.setProperty("width","0px"),yield g("initials"),c.style.removeProperty("width"),a.style.removeProperty("width"))}))};const i=e(629),r=e(49),s=e(937);let u,c,a,l,d,f,m,v,h,_,b=r.L.toolbar,p=!1;function g(){return o(this,arguments,void 0,(function*(n="rect",...t){const e=r.L.Mt||(yield(0,i.T)("#drag"));return!e||r.M.At?-1:new Promise((o=>{"initials"===n?(t.length&&!t.includes("L")||(h=e.getBoundingClientRect().left,o(h)),t.length&&!t.includes("R")||(_=e.getBoundingClientRect().right,o(_))):(d=e.getBoundingClientRect(),o(d))}))}))}function w(n,t=void 0,e=void 0){if(document.getElementById(n))return;if(!r.L.toolbar)return;let o=document.createElement("div");return o.id=n,t?r.L.toolbar.insertBefore(o,t):e?r.L.toolbar.insertBefore(o,e.nextSibling):r.L.toolbar.appendChild(o),o}},379:(n,t)=>{function e(n){if(n.startsWith("#"))return function(n){3===(n=n.slice(1)).length&&(n=n.split("").map((n=>n+n)).join(""));4===n.length&&(n=n.split("").map((n=>n+n)).join(""));if(6===n.length||8===n.length)return"#"+n.toLowerCase();return"#000000"}(n);const t=n.match(/rgba?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)/);if(t){return o(Math.round(parseFloat(t[1])),Math.round(parseFloat(t[2])),Math.round(parseFloat(t[3])))}const e=n.match(/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)%\s*,\s*(\d+(?:\.\d+)?)%\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)/);if(e){return function(n,t,e){const i=(1-Math.abs(2*e-1))*t,r=i*(1-Math.abs(n/60%2-1)),s=e-i/2;let u=0,c=0,a=0;0<=n&&n<60?(u=i,c=r,a=0):60<=n&&n<120?(u=r,c=i,a=0):120<=n&&n<180?(u=0,c=i,a=r):180<=n&&n<240?(u=0,c=r,a=i):240<=n&&n<300?(u=r,c=0,a=i):300<=n&&n<360&&(u=i,c=0,a=r);return u=Math.round(255*(u+s)),c=Math.round(255*(c+s)),a=Math.round(255*(a+s)),o(u,c,a)}(parseFloat(e[1]),parseFloat(e[2])/100,parseFloat(e[3])/100)}const i={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#008000",blue:"#0000ff",yellow:"#ffff00",orange:"#ffa500",purple:"#800080",pink:"#ffc0cb",brown:"#a52a2a",gray:"#808080",grey:"#808080",transparent:"#00000000"},r=n.toLowerCase();return i[r]?i[r]:"#000000"}function o(n,t,e){const o=n=>{const t=Math.max(0,Math.min(255,Math.round(n))).toString(16);return 1===t.length?"0"+t:t};return`#${o(n)}${o(t)}${o(e)}`}Object.defineProperty(t,"__esModule",{value:!0}),t.Xt=function(n){if(!n)return null;const t=[/#([0-9a-fA-F]{3,8})\b/,/rgba?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)/,/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)%\s*,\s*(\d+(?:\.\d+)?)%\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)/,/\b(black|white|red|green|blue|yellow|orange|purple|pink|brown|gray|grey|transparent)\b/i];for(const o of t){const t=n.match(o);if(t)return e(t[0])}return null},t.Zt=e,t.Wt=function(n){if(!n)return;const t=parseInt(n.substring(1,3),16)/255,e=parseInt(n.substring(3,5),16)/255,o=parseInt(n.substring(5,7),16)/255,i=Math.max(t,e,o),r=Math.min(t,e,o),s=(i+r)/2;if(i===r)return{ne:0,s:0,te:s};let u=0;const c=i-r,a=s>.5?c/(2-i-r):c/(i+r);switch(i){case t:u=(e-o)/c+(e<o?6:0);break;case e:u=(o-t)/c+2;break;case o:u=(t-e)/c+4}return u/=6,{ne:u,s:a,te:s}},t.ee=function(n){if(!n)return;4===(n=n.replace(/^#/,"")).length?n=n.substring(0,3):8===n.length&&(n=n.substring(0,6));3===n.length&&(n=n.split("").map((function(n){return n+n})).join(""));let t=parseInt(n.slice(0,2),16)/255,e=parseInt(n.slice(2,4),16)/255,o=parseInt(n.slice(4,6),16)/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92;let i=.4124564*t+.3575761*e+.1804375*o,r=.2126729*t+.7151522*e+.072175*o,s=.0193339*t+.119192*e+.9503041*o,u=.8189330101*i+.3618667424*r-.1288597137*s,c=.0329845436*i+.9293118715*r+.0361456387*s,a=.0482003018*i+.2643662691*r+.633851707*s;u=Math.cbrt(u),c=Math.cbrt(c),a=Math.cbrt(a);let l=.2104542553*u+.793617785*c-.0040720468*a,d=1.9779984951*u-2.428592205*c+.4505937099*a,f=.0259040371*u+.7827717662*c-.808675766*a,m=Math.sqrt(d*d+f*f),v=Math.atan2(f,d)*(180/Math.PI);v<0&&(v+=360);return{oe:l,ie:m,re:v}}},406:(n,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Bt=t.se=void 0;class e{constructor(){this.ue=null;const n=document.getElementById("snippetCSS-asri-root-vars");n?(this.ce=n,this.ae=this.le()):(this.ce=document.createElement("style"),this.ce.id="snippetCSS-asri-root-vars",document.head.appendChild(this.ce),this.ae=new Map),this.de=new Map}le(){const n=new Map,t=this.ce.textContent;if(!t)return n;const e=t.match(/:root\s*{([^}]*)}/);if(e){const t=e[1].split(";");for(const e of t){const[t,o]=e.split(":").map((n=>n.trim()));t&&o&&n.set(t,o)}}return n}static fe(){return e.me||(e.me=new e),e.me}setProperty(n,t){this.de.set(n,t),this.ve()}removeProperty(n){this.de.set(n,""),this.ve()}ve(){null!==this.ue&&cancelAnimationFrame(this.ue),this.ue=requestAnimationFrame((()=>this.he()))}he(){if(0===this.de.size)return;let n=":root {";new Map([...this.ae,...this.de]).forEach(((t,e)=>{""===t?this.ae.delete(e):(n+=`${e}: ${t};`,this.ae.set(e,t))})),n+="}",this.ce.textContent=n,this.de.clear(),this.ue=null}_e(){return new Map(this.ae)}Vt(){this.ce.remove(),e.me=null}}t.se=e,e.me=null,t.Bt=e.fe()},414:function(n,t,e){var o=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function s(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,u)}c((o=o.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.bn=void 0,t.be=u,t.m=function(){const n=(0,i.pe)()?0:32;document.body.style.setProperty("--status-height",`${n}px`)},t.U=function(){document.body.style.removeProperty("--status-height"),setTimeout((()=>{var n,t,e;null===(n=r.L.status)||void 0===n||n.style.removeProperty("max-width"),null===(t=r.L.status)||void 0===t||t.style.removeProperty("--asri-status-transform-x"),null===(e=r.L.status)||void 0===e||e.style.removeProperty("--asri-status-transform-y")}),200)},t.ge=function(){var n,t;if(!(0,i.pe)()){const e=null===(n=r.L.lt)||void 0===n?void 0:n.querySelectorAll(".layout__center .layout-tab-container"),o=r.L.status;null==e||e.forEach((n=>{let t=n.querySelector(".file-tree");t&&!t.classList.contains("fn__none")&&(0,s.Qt)(n,o)?n.style.paddingBottom="35px":n.style.removeProperty("padding-bottom")}));const i=document.getElementById("searchList"),u=document.getElementById("searchPreview");(i||u)&&((0,s.Qt)(i,o)?i.style.paddingBottom="35px":i.style.removeProperty("padding-bottom"),(0,s.Qt)(u,o)?u.style.paddingBottom="35px":u.style.removeProperty("padding-bottom"));const c=document.getElementById("viewerContainer");c&&((0,s.Qt)(c,o)?c.style.paddingBottom="35px":c.style.removeProperty("padding-bottom")),null===(t=r.L.lt)||void 0===t||t.querySelectorAll(".card__main").forEach((n=>{n&&((0,s.Qt)(n,o)?n.style.paddingBottom="35px":n.style.removeProperty("padding-bottom"))}))}},t.W=function(){var n,t;null===(n=r.L.lt)||void 0===n||n.querySelectorAll(".layout__center .layout-tab-container").forEach((n=>{n.style.removeProperty("padding-bottom")})),null===(t=r.L.lt)||void 0===t||t.querySelectorAll(".card__main").forEach((n=>{n.style.removeProperty("padding-bottom")}));const e=document.getElementById("searchList"),o=document.getElementById("searchPreview"),i=document.getElementById("viewerContainer");for(const n of[e,o,i])n&&n.style.removeProperty("padding-bottom")};const i=e(937),r=e(49),s=e(629);function u(){return o(this,void 0,void 0,(function*(){var n,t,e;if(!r.M.p&&!r.M.At)if(r.L.status||(yield(0,s.T)("#status")),yield(0,i.we)())null===(n=r.L.status)||void 0===n||n.style.removeProperty("max-width"),null===(t=r.L.status)||void 0===t||t.style.removeProperty("--asri-status-transform-x"),null===(e=r.L.status)||void 0===e||e.style.removeProperty("--asri-status-transform-y");else{function o(n,t){r.L.status.style.setProperty("--asri-status-transform-x",`${n}px`),r.L.status.style.setProperty("--asri-status-transform-y",`${t}px`)}let u=(r.L.lt||(yield(0,s.T)("#layouts"))).querySelector(".layout__center");if(u&&r.L._t&&!r.L.status.classList.contains(".fn__none")){let c=r.L._t.clientWidth,a=u.clientWidth,l=0;r.L.bt||(yield(0,s.T)(".layout__dockb")),l=r.L.bt&&!r.L.bt.classList.contains(".fn__none")&&(0,i.ye)("B")?-1*r.L.bt.clientHeight:0,r.L.status.style.maxWidth=a-12+"px";let d=(0,i.Me)("R"),f=!(0,i.ye)("R")&&(0,i.ke)("R");d&&f?o(0,l):!d&&f?o(-40,l):d||f?d&&!f&&o(-1*c,l):o(-1*(c+40),l)}}}))}t.bn=(0,s.On)(u)},425:(n,t,e)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.xe=void 0,t.Ht=function(n){return"0"===String(n)||u.followSysAccentColor&&u.et||u.tt||u.nt&&r.an[u.ln].followCoverImgColor?(requestAnimationFrame((()=>{s.Bt.setProperty("--asri-c-0","0"),document.body.classList.add("asri-c-0"),c()})),!0):(requestAnimationFrame((()=>{s.Bt.removeProperty("--asri-c-0"),document.body.classList.remove("asri-c-0"),a()})),!1)},t.Rt=function(n){const{oe:e}=(0,o.ee)(n)||{};if(void 0===e)return;e>t.xe?s.Bt.setProperty("--asri-on-primary-reverse","light"===i.M.Lt?".3":".2"):s.Bt.removeProperty("--asri-on-primary-reverse")},t.Ce=c,t.Z=a;const o=e(379),i=e(49),r=e(202),s=e(406),u=e(8);function c(){if(window.matchMedia&&window.matchMedia("(color-gamut: p3)").matches&&!document.querySelector(".asri-hdr-support-image")){const n=document.createElement("img");n.src="/appearance/themes/Asri/hdr.jpg",n.style.position="fixed",n.style.pointerEvents="none",n.style.width="1px",n.style.height="1px",n.classList.add("asri-hdr-support-image"),document.body.appendChild(n)}}function a(){const n=document.querySelector(".asri-hdr-support-image");n&&n.remove()}t.xe="light"===i.M.Lt?.74:.79},441:(n,t,e)=>{function o(n){var t=n.toString(16);return 1===t.length?"0"+t:t}function i(n){return"#"+n.map(o).join("")}function r(n){return n?(t=n,Array.isArray(t[0])?n:[n]):[];var t}function s(n,t,e){for(var o=0;o<e.length;o++)if(u(n,t,e[o]))return!0;return!1}function u(n,t,e){switch(e.length){case 3:if(function(n,t,e){if(255!==n[t+3])return!0;if(n[t]===e[0]&&n[t+1]===e[1]&&n[t+2]===e[2])return!0;return!1}(n,t,e))return!0;break;case 4:if(function(n,t,e){if(n[t+3]&&e[3])return n[t]===e[0]&&n[t+1]===e[1]&&n[t+2]===e[2]&&n[t+3]===e[3];return n[t+3]===e[3]}(n,t,e))return!0;break;case 5:if(function(n,t,e){var o=e[0],i=e[1],r=e[2],s=e[3],u=e[4],a=n[t+3],l=c(a,s,u);if(!s)return l;if(!a&&l)return!0;if(c(n[t],o,u)&&c(n[t+1],i,u)&&c(n[t+2],r,u)&&l)return!0;return!1}(n,t,e))return!0;break;default:return!1}}function c(n,t,e){return n>=t-e&&n<=t+e}e.r(t),e.d(t,{Oe:()=>y});function a(n,t,e){for(var o={},i=e.je||24,r=e.Se,u=e.step,c=[0,0,0,0,0],a=0;a<t;a+=u){var l=n[a],d=n[a+1],f=n[a+2],m=n[a+3];if(!r||!s(n,a,r)){var v=Math.round(l/i)+","+Math.round(d/i)+","+Math.round(f/i);o[v]?o[v]=[o[v][0]+l*m,o[v][1]+d*m,o[v][2]+f*m,o[v][3]+m,o[v][4]+1]:o[v]=[l*m,d*m,f*m,m,1],c[4]<o[v][4]&&(c=o[v])}}var h=c[0],_=c[1],b=c[2],p=c[3],g=c[4];return p?[Math.round(h/p),Math.round(_/p),Math.round(b/p),Math.round(p/g)]:e.Pe}function l(n,t,e){for(var o=0,i=0,r=0,u=0,c=0,a=e.Se,l=e.step,d=0;d<t;d+=l){var f=n[d+3],m=n[d]*f,v=n[d+1]*f,h=n[d+2]*f;a&&s(n,d,a)||(o+=m,i+=v,r+=h,u+=f,c++)}return u?[Math.round(o/u),Math.round(i/u),Math.round(r/u),Math.round(u/c)]:e.Pe}function d(n,t,e){for(var o=0,i=0,r=0,u=0,c=0,a=e.Se,l=e.step,d=0;d<t;d+=l){var f=n[d],m=n[d+1],v=n[d+2],h=n[d+3];a&&s(n,d,a)||(o+=f*f*h,i+=m*m*h,r+=v*v*h,u+=h,c++)}return u?[Math.round(Math.sqrt(o/u)),Math.round(Math.sqrt(i/u)),Math.round(Math.sqrt(r/u)),Math.round(u/c)]:e.Pe}function f(n){return m(n,"defaultColor",[0,0,0,0])}function m(n,t,e){return void 0===n[t]?e:n[t]}function v(n){if(_(n)){var t=n.naturalWidth,e=n.naturalHeight;return n.naturalWidth||-1===n.src.search(/\.svg(\?|$)/i)||(t=e=100),{width:t,height:e}}return function(n){return"undefined"!=typeof HTMLVideoElement&&n instanceof HTMLVideoElement}(n)?{width:n.videoWidth,height:n.videoHeight}:p(n)?{width:n.codedWidth,height:n.codedHeight}:{width:n.width,height:n.height}}function h(n){return function(n){return"undefined"!=typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement}(n)?"canvas":function(n){return b&&n instanceof OffscreenCanvas}(n)?"offscreencanvas":p(n)?"videoframe":function(n){return"undefined"!=typeof ImageBitmap&&n instanceof ImageBitmap}(n)?"imagebitmap":n.src}function _(n){return"undefined"!=typeof HTMLImageElement&&n instanceof HTMLImageElement}var b="undefined"!=typeof OffscreenCanvas;function p(n){return"undefined"!=typeof VideoFrame&&n instanceof VideoFrame}var g="undefined"==typeof window;function w(n){return Error("FastAverageColor: "+n)}var y=function(){function n(){this.canvas=null,this.Ie=null}return n.prototype.Ae=function(n,t){if(!n)return Promise.reject(w("call .getColorAsync() without resource"));if("string"==typeof n){if("undefined"==typeof Image)return Promise.reject(w("resource as string is not supported in this environment"));var e=new Image;return e.crossOrigin=t&&t.crossOrigin||"",e.src=n,this.$e(e,t)}if(_(n)&&!n.complete)return this.$e(n,t);var o=this.Le(n,t);return o.error?Promise.reject(o.error):Promise.resolve(o)},n.prototype.Le=function(n,t){var e=f(t=t||{});if(!n){var o=w("call .getColor() without resource");return t.silent,this.Te(e,o)}var i=function(n,t){var e,o=m(t,"left",0),i=m(t,"top",0),r=m(t,"width",n.width),s=m(t,"height",n.height),u=r,c=s;return"precision"===t.mode||(r>s?(e=r/s,u=100,c=Math.round(u/e)):(e=s/r,c=100,u=Math.round(c/e)),(u>r||c>s||u<10||c<10)&&(u=r,c=s)),{Fe:o,Be:i,Re:r,Ne:s,He:u,Ve:c}}(v(n),t);if(!(i.Re&&i.Ne&&i.He&&i.Ve)){o=w('incorrect sizes for resource "'.concat(h(n),'"'));return t.silent,this.Te(e,o)}if(!this.canvas&&(this.canvas=g?b?new OffscreenCanvas(1,1):null:document.createElement("canvas"),!this.canvas)){o=w("OffscreenCanvas is not supported in this browser");return t.silent,this.Te(e,o)}if(!this.Ie){if(this.Ie=this.canvas.getContext("2d",{willReadFrequently:!0}),!this.Ie){o=w("Canvas Context 2D is not supported in this browser");return t.silent,this.Te(e)}this.Ie.imageSmoothingEnabled=!1}this.canvas.width=i.He,this.canvas.height=i.Ve;try{this.Ie.clearRect(0,0,i.He,i.Ve),this.Ie.drawImage(n,i.Fe,i.Be,i.Re,i.Ne,0,0,i.He,i.Ve);var r=this.Ie.getImageData(0,0,i.He,i.Ve).data;return this.Te(this.ze(r,t))}catch(i){o=w("security error (CORS) for resource ".concat(h(n),".\nDetails: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image"));return t.silent,t.silent,this.Te(e,o)}},n.prototype.ze=function(n,t){t=t||{};var e=n.length,o=f(t);if(e<4)return o;var i,s=e-e%4,u=4*(t.step||1);switch(t.algorithm||"sqrt"){case"simple":i=l;break;case"sqrt":i=d;break;case"dominant":i=a;break;default:throw w("".concat(t.algorithm," is unknown algorithm"))}return i(n,s,{Pe:o,Se:r(t.Se),step:u,je:t.je})},n.prototype.Te=function(n,t){var e,o=n.slice(0,3),r=[n[0],n[1],n[2],n[3]/255],s=(299*(e=n)[0]+587*e[1]+114*e[2])/1e3<128;return{value:[n[0],n[1],n[2],n[3]],De:"rgb("+o.join(",")+")",Ee:"rgba("+r.join(",")+")",qe:i(o),We:i(n),Ue:s,Je:!s,error:t}},n.prototype.destroy=function(){this.canvas&&(this.canvas.width=1,this.canvas.height=1,this.canvas=null),this.Ie=null},n.prototype.$e=function(n,t){var e=this;return new Promise((function(o,i){var r=function(){c();var r=e.Le(n,t);r.error?i(r.error):o(r)},s=function(){c(),i(w('Error loading image "'.concat(n.src,'"')))},u=function(){c(),i(w('Image "'.concat(n.src,'" loading aborted')))},c=function(){n.removeEventListener("load",r),n.removeEventListener("error",s),n.removeEventListener("abort",u)};n.addEventListener("load",r),n.addEventListener("error",s),n.addEventListener("abort",u)}))},n}()},571:(n,t,e)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.remote=void 0;const o=e(49);t.remote=o.M.It||o.M.p?null:e(21)},613:function(n,t){var e=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function s(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,u)}c((o=o.apply(n,t||[])).next())}))};function o(n){return e(this,void 0,void 0,(function*(){let t=yield n;return 0===t.code?t.data:null}))}function i(n,t){return e(this,void 0,void 0,(function*(){let e=null;return yield fetch(n,{body:JSON.stringify(t),method:"POST",headers:{Authorization:"Token "}}).then((function(n){e=n.json()})),e}))}Object.defineProperty(t,"__esModule",{value:!0}),t.getFile=function(n){return e(this,void 0,void 0,(function*(){const t=yield fetch("/api/file/getFile",{method:"POST",body:JSON.stringify({path:n})});return t.ok?t:null}))},t.qt=function(n,t){return e(this,arguments,void 0,(function*(n,t,e=!1,o=Date.now()){let i=new Blob([t]),r=n.split("/").pop(),s=new File([i],r),u=new FormData;u.append("path",n),u.append("file",s),u.append("isDir",String(e)),u.append("modTime",String(o));const c=yield fetch("/api/file/putFile",{body:u,method:"POST"});return c.ok?yield c.json():null}))},t.st=function(n,t){return e(this,void 0,void 0,(function*(){return o(i("/api/attr/setBlockAttrs",{id:n,attrs:t}))}))},t.rt=function(n){return e(this,void 0,void 0,(function*(){return o(i("/api/attr/getBlockAttrs",{id:n}))}))}},629:function(n,t,e){var o=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function s(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,u)}c((o=o.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Ke=function(n,t){n.includes(t)||n.push(t)},t.On=function(n,t=200){let e=null;return(...o)=>{e&&clearTimeout(e),e=setTimeout((()=>{n(...o),e=null}),t)}},t.Qt=function(n,t){if(!n||!t)return!1;let e,o;e=n.getBoundingClientRect(),o=t.getBoundingClientRect();return r(e,o)},t.Ye=function(n,t){return o(this,void 0,void 0,(function*(){return!(!n||!t)&&new Promise((e=>{let o,i;o=n.getBoundingClientRect(),i=t.getBoundingClientRect();e(r(o,i))}))}))},t.Ge=function(n,t){if(!n.length||!t.length)return!1;const e=new Set(n),o=new Set(t);if(e.size!==o.size)return!1;for(const n of e)if(!o.has(n))return!1;return!0},t.T=s,t.Qe=function(n){return o(this,arguments,void 0,(function*(n,t=document,e=10,o=200){let i=0;for(;i<e;){const e=t.querySelectorAll(n);if(e.length>0)return e;yield new Promise((n=>setTimeout(n,o))),i++}}))},t.Xe=function(n){return o(this,arguments,void 0,(function*(n,t=!1){var e;const i={Ze:n||void 0,no:!1,eo:void 0};if(!n){const t=yield s(".layout__center .layout-tab-bar .item--focus");n=null!==(e=null==t?void 0:t.getAttribute("data-id"))&&void 0!==e?e:void 0}if(!n)return i;const r=document.querySelector(`.layout__center .layout-tab-container>.protyle[data-id="${n}"]:not(.fn__none)`);return r?(t&&(yield function(n){return o(this,arguments,void 0,(function*(n,t=5e3){return new Promise((e=>{if("finished"===n.getAttribute("data-loading"))return void e(!0);let o;const i=new MutationObserver((n=>{for(const t of n)if("attributes"===t.type&&"data-loading"===t.attributeName&&"finished"===t.target.getAttribute("data-loading"))return clearTimeout(o),i.disconnect(),void e(!0)}));i.observe(n,{attributeFilter:["data-loading"]}),o=setTimeout((()=>{i.disconnect(),e(!1)}),t)}))}))}(r)),i.no=!0,i.eo=r,i.Ze=n,i):i}))},t.o=function(){navigator.userAgent.includes("Chrome/138")&&i.Bt.setProperty("--asri-ccff","0.5")},t.X=function(){i.Bt.removeProperty("--asri-ccff")};const i=e(689);function r(n,t){let e=!1;return n&&t&&(e=n.right>t.left&&n.bottom>t.top&&n.left<t.left+t.width&&n.top<t.top+t.height),e}function s(n){return o(this,arguments,void 0,(function*(n,t=document,e=10,o=200){let i=0;for(;i<e;){const e=t.querySelector(n);if(e)return e;yield new Promise((n=>setTimeout(n,o))),i++}}))}},640:function(n,t,e){var o=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function s(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,u)}c((o=o.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.zt=void 0,t.oo=m,t.dn=function(n){return o(this,arguments,void 0,(function*(n,t=!1){var e,o;const i=yield m(n),s=c.Bt._e().get("--asri-cover-dominant");let d,f;i?(d=i,f=(null===(o=(0,r.ee)(i))||void 0===o?void 0:o.ie)||0,c.Bt.setProperty("--asri-cover-dominant",i)):(s?(d=s,f=(null===(e=(0,r.ee)(s))||void 0===e?void 0:e.ie)||0):(d=u.an[a.ln].userCustomColor,f=parseFloat(u.an[a.ln].chroma)||0,c.Bt.setProperty("--asri-user-custom-accent",d)),t&&(0,l.Rt)(null!=s?s:d));const v="0.000"===f.toFixed(3);(0,a.Hn)(v),(v||"0"===u.an[a.ln].chroma)&&(f=0),(0,l.Ht)(f),(0,l.Rt)(d)}))};const i=e(441),r=e(379),s=e(629),u=e(202),c=e(406),a=e(8),l=e(425),d=new i.Oe;class f{constructor(){}static fe(){return f.me||(f.me=new f),f.me}io(n){return o(this,void 0,void 0,(function*(){const t=(yield(0,s.Xe)(n,!0)).eo;let e=null;if(!t)return e;const o=t.querySelector(".protyle-background__img:not(.fn__none)");if(!o)return e;const i=o.querySelector("&>img"),u=o.querySelector("&>video");if(i.style){const n=i.style;if(n.backgroundColor)return{type:"css",source:(0,r.Zt)(n.backgroundColor)};if(n.backgroundImage){const t=n.backgroundImage;return{type:"css",source:(0,r.Xt)(t)||"#3478f6"}}}return u?{type:"vid",source:u}:i?{type:"img",source:i}:e}))}ro(n){return document.querySelector(`.protyle:not(.fn__none)[data-id="${n}] .protyle-background__img:not(.fn__none)> img`)||null}so(n){return document.querySelector(`.protyle:not(.fn__none)[data-id="${n}] .protyle-background__img:not(.fn__none)> video`)||null}uo(n){return o(this,arguments,void 0,(function*(n,t={algorithm:"dominant"}){if(!n)return;return(yield d.Ae(n,t)).qe}))}co(n){if(!n)return;return d.Le(n).qe}Vt(){d.destroy(),f.me=null}}function m(n){return o(this,void 0,void 0,(function*(){const e=yield t.zt.io(n);if(e)return"css"===e.type?e.source:"vid"===e.type?t.zt.co(e.source):"img"===e.type?yield t.zt.uo(e.source):void 0}))}f.me=null,t.zt=f.fe()},689:function(n,t,e){var o=this&&this.__createBinding||(Object.create?function(n,t,e,o){void 0===o&&(o=e);var i=Object.getOwnPropertyDescriptor(t,e);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(n,o,i)}:function(n,t,e,o){void 0===o&&(o=e),n[o]=t[e]}),i=this&&this.__exportStar||function(n,t){for(var e in n)"default"===e||Object.prototype.hasOwnProperty.call(t,e)||o(t,n,e)},r=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function s(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,u)}c((o=o.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.it=t.I=t.A=t.Jt=t.Kt=t.wn=t.rn=t.Nt=t.Et=t.ao=t.an=t.se=t.Bt=t.Dt=t.G=t._=void 0,t.h=function(){return r(this,void 0,void 0,(function*(){return yield(0,v.Dt)()}))};var s=e(138);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(t,"G",{enumerable:!0,get:function(){return s.G}}),Object.defineProperty(t,"Dt",{enumerable:!0,get:function(){return s.Dt}});var u=e(406);Object.defineProperty(t,"Bt",{enumerable:!0,get:function(){return u.Bt}}),Object.defineProperty(t,"se",{enumerable:!0,get:function(){return u.se}});var c=e(202);Object.defineProperty(t,"an",{enumerable:!0,get:function(){return c.an}}),Object.defineProperty(t,"ao",{enumerable:!0,get:function(){return c.Ft}}),Object.defineProperty(t,"Et",{enumerable:!0,get:function(){return c.Et}});var a=e(929);Object.defineProperty(t,"Nt",{enumerable:!0,get:function(){return a.Nt}}),i(e(8),t);var l=e(217);Object.defineProperty(t,"rn",{enumerable:!0,get:function(){return l.rn}});var d=e(276);Object.defineProperty(t,"wn",{enumerable:!0,get:function(){return d.wn}}),Object.defineProperty(t,"Kt",{enumerable:!0,get:function(){return d.Kt}});var f=e(848);Object.defineProperty(t,"Jt",{enumerable:!0,get:function(){return f.Jt}}),Object.defineProperty(t,"A",{enumerable:!0,get:function(){return f.A}}),Object.defineProperty(t,"I",{enumerable:!0,get:function(){return f.I}});var m=e(105);Object.defineProperty(t,"it",{enumerable:!0,get:function(){return m.it}});const v=e(138)},766:(n,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.S=t.un=t.fn=void 0;t.fn=class{constructor(n){this.lo=(t,e)=>n(t,e),this.do=new ResizeObserver(this.lo)}observe(n,t){this.do.observe(n,t)}disconnect(n){this.do.disconnect(),n&&n()}unobserve(n){this.do.unobserve(n)}};t.un=class{constructor(n){this.lo=(t,e)=>n(t,e),this.fo=new MutationObserver(this.lo)}observe(n,t){this.fo.observe(n,t)}disconnect(n){this.fo.disconnect(),n&&n()}},t.S={attributes:!0,subtree:!0,attributeFilter:["class"],attributeOldValue:!0}},796:(n,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.nn=void 0;t.nn=class{constructor(n){this.lo=n}start(n,t,e=!1){n.addEventListener(t,this.lo,e)}remove(n,t,e=!1){n.removeEventListener(t,this.lo,e)}}},818:function(n,t,e){var o=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function s(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,u)}c((o=o.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.kn=function(){return o(this,void 0,void 0,(function*(){const n=r.L.dt?r.L.dt:yield(0,i.T)("#dockLeft");r.L.ht||(yield(0,i.T)(".layout__dockl"));const t=r.L.ft;for(let e of[n,t]){let t=(0,s.ye)(e===n?"L":"R"),o=(0,s.ke)(e===n?"L":"R");t&&o?null==e||e.classList.add("dock-layout-expanded"):null==e||e.classList.remove("dock-layout-expanded")}}))},t.j=function(){return o(this,void 0,void 0,(function*(){var n,t,e;if(r.M.p)return;const o=yield(0,s.we)(),i=!(0,s.ye)("B")&&(0,s.ke)("B");null===(n=r.L.toolbar)||void 0===n||n.nextElementSibling.classList.toggle("has-dockb",o),null===(t=r.L.toolbar)||void 0===t||t.nextElementSibling.classList.toggle("has-layout-dockb-float",i),null===(e=r.L.vt)||void 0===e||e.classList.toggle("has-layout-dockb-float",i)}))},t.V=function(){var n,t;null===(n=r.L.toolbar)||void 0===n||n.nextElementSibling.classList.remove("has-dockb"),null===(t=r.L.toolbar)||void 0===t||t.nextElementSibling.classList.remove("has-layout-dockb-float")},t.R=function(){var n;null===(n=document.querySelector(".dock-layout-expanded"))||void 0===n||n.classList.remove("dock-layout-expanded")};const i=e(629),r=e(49),s=e(937)},832:function(n,t,e){var o=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function s(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,u)}c((o=o.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.u=function(){return o(this,void 0,void 0,(function*(){if(r||s)for(let n=0;n<document.styleSheets.length;n++){let t=document.styleSheets[n];try{for(let n=0;n<t.cssRules.length;n++){let e=t.cssRules[n];e.selectorText&&e.selectorText.includes("::-webkit-scrollbar")&&(e.style.width||e.style.height||e.style.backgroundColor)&&(u.push({styleSheet:t,mo:e.cssText}),t.deleteRule(n),n--)}}catch(n){}}}))},t.K=function(){return o(this,void 0,void 0,(function*(){if(u)for(let n=0;n<u.length;n++){let t=u[n];t.styleSheet.insertRule(t.mo,t.styleSheet.cssRules.length)}}))};const i=e(49),{jt:r,p:s}=i.M,u=[]},844:function(n,t,e){var o=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function s(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,u)}c((o=o.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.cn=void 0,t.vo=u,t.N=function(){document.querySelectorAll(".file-tree .has-focus").forEach((n=>n.classList.remove("has-focus")))};const i=e(629),r=e(49),{p:s}=r.M;function u(){return o(this,void 0,void 0,(function*(){if(s)return;r.L.ht||(yield(0,i.T)(".layout__dockl"));let n=document.querySelectorAll(".file-tree .b3-list-item--focus");n.length&&(document.querySelectorAll(".file-tree .has-focus").forEach((n=>n.classList.remove("has-focus"))),n.forEach((n=>{n.nextElementSibling&&"UL"===n.nextElementSibling.tagName&&!n.nextElementSibling.classList.contains("fn__none")||n.parentNode instanceof Element&&n.parentNode.classList.add("has-focus")})))}))}t.cn=(0,i.On)(u)},848:function(n,t,e){var o=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function s(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,u)}c((o=o.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.I=t.A=void 0,t.Jt=function(){if(!(d.Zn&&d.Qn&&d.Gn&&d.Yn&&d.Xn))return;s.M.It||s.M.p||s.M.St?d.Zn.classList.add("fn__none"):d.Zn.addEventListener("click",h);d.Qn.addEventListener("mouseup",b),d.Yn.addEventListener("input",p),d.Yn.addEventListener("change",g),d.Gn.addEventListener("input",w),d.Xn.addEventListener("click",_)};const i=e(796),r=e(629),s=e(49),u=e(288),c=e(406),a=e(202),l=e(929),d=e(8),f=e(217),m=e(425),v=e(640);function h(){d.followSysAccentColor||(0,u.gn)(600,(()=>{y(!1),document.querySelectorAll(".asri-config.b3-menu__item--selected").forEach((n=>n.classList.remove("b3-menu__item--selected"))),(0,d.Nn)(!0),d.Zn.classList.add("b3-menu__item--selected"),c.Bt.removeProperty("--asri-user-custom-accent"),c.Bt.removeProperty("--asri-cover-dominant"),a.an[d.ln].followSysAccentColor=!0,a.an[d.ln].followCoverImgColor=!1,(0,f.rn)(),(0,a.Et)()}))}function _(){a.an[d.ln].followCoverImgColor||(0,u.gn)(600,(()=>o(this,void 0,void 0,(function*(){y(),(0,d.Nn)(!1),document.querySelectorAll(".asri-config.b3-menu__item--selected").forEach((n=>n.classList.remove("b3-menu__item--selected"))),d.Xn.classList.add("b3-menu__item--selected"),a.an[d.ln].followCoverImgColor=!0,a.an[d.ln].followSysAccentColor=!1,(0,v.dn)(),(0,a.Et)()}))))}function b(n){(0,u.gn)(600,(()=>{y(),document.documentElement.getAttribute("--asri-user-custom-accent")||((0,d.Nn)(!1),document.querySelectorAll(".asri-config.b3-menu__item--selected").forEach((n=>n.classList.remove("b3-menu__item--selected"))),d.Qn.classList.add("b3-menu__item--selected"),c.Bt.setProperty("--asri-user-custom-accent",a.an[d.ln].userCustomColor),c.Bt.removeProperty("--asri-cover-dominant"),(0,m.Ht)(a.an[d.ln].chroma),(0,m.Rt)(a.an[d.ln].userCustomColor),a.an[d.ln].userCustomColor=a.an[d.ln].userCustomColor,a.an[d.ln].followSysAccentColor=!1,a.an[d.ln].followCoverImgColor=!1,(0,a.Et)())}))}function p(){y();const n=d.Yn.value;requestAnimationFrame((()=>{c.Bt.setProperty("--asri-user-custom-accent",n),(0,m.Rt)(n)}))}function g(){d.Zn.classList.remove("b3-menu__item--selected"),d.Qn.classList.add("b3-menu__item--selected"),(0,m.Rt)(d.Yn.value),a.an[d.ln].userCustomColor=d.Yn.value,(0,d.Nn)(!1),a.an[d.ln].followSysAccentColor=!1,a.an[d.ln].followCoverImgColor=!1,(0,a.Et)()}function w(){y();const n=this.value;requestAnimationFrame((()=>{c.Bt.setProperty("--asri-c-factor",n),this.parentElement.ariaLabel=d.i18n.asriChroma+n,a.an[d.ln].chroma=n,(0,d.Vn)("0"===n),(0,m.Ht)(n)})),(0,r.On)(a.Et,200)()}function y(n=!0){var t,e;const o=document.documentElement.getAttribute("data-asri-palette");null!==o&&(a.an[d.ln].presetPalette="",null===(t=document.getElementById(`prst-palette-${o}`))||void 0===t||t.classList.remove("b3-menu__item--selected"),null===(e=document.getElementById("asriChroma"))||void 0===e||e.classList.remove("b3-menu__item--disabled"),document.documentElement.removeAttribute("data-asri-palette"),c.Bt.setProperty("--asri-c-factor",a.an[d.ln].chroma),(0,d.Vn)("0"===a.an[d.ln].chroma))}t.A=new i.nn((function(n){const t=n.target.closest('[id^="tfp-"]');if(!t)return;const e=document.querySelectorAll('[id^="tfp-"]');"tfp-disable"===t.id?(document.body.classList.remove("asri-tfp-acrylic","asri-tfp-progressive","asri-tfp","asri-tfp-luminous"),e.forEach((n=>{n.classList.remove("b3-menu__item--selected")})),a.an.features.tfp=""):(t.classList.contains("b3-menu__item--selected")?(document.body.classList.remove("asri-tfp",t.id.replace("tfp-","asri-tfp-")),a.an.features.tfp=""):(e.forEach((n=>{n.classList.remove("b3-menu__item--selected")})),document.body.classList.remove("asri-tfp-acrylic","asri-tfp-progressive","asri-tfp-luminous"),document.body.classList.add("asri-tfp",t.id.replace("tfp-","asri-tfp-")),a.an.features.tfp=t.id.replace("tfp-","")),t.classList.toggle("b3-menu__item--selected"));(0,a.Et)()})),t.I=new i.nn((function(n){return o(this,void 0,void 0,(function*(){const t=n.target.closest('[id^="prst-palette-"]');if(!t)return;const e=document.getElementById("asriChroma"),o=t.id,i=l.Nt[o][d.ln];a.an[d.ln].presetPalette!==o&&(0,u.gn)(600,(()=>{document.querySelectorAll(".asri-config.b3-menu__item--selected").forEach((n=>n.classList.remove("b3-menu__item--selected"))),null==e||e.classList.add("b3-menu__item--disabled"),t.classList.add("b3-menu__item--selected"),document.documentElement.setAttribute("data-asri-palette",o.split("-")[2]),(0,d.Nn)(!1),d.Zn.classList.remove("b3-menu__item--selected"),d.Qn.classList.remove("b3-menu__item--selected"),c.Bt.setProperty("--asri-user-custom-accent",i.primary),c.Bt.setProperty("--asri-c-factor",i.chroma),c.Bt.removeProperty("--asri-cover-dominant"),(0,d.Vn)("0"===i.chroma),a.an[d.ln].presetPalette=o,a.an[d.ln].followSysAccentColor=!1,a.an[d.ln].followCoverImgColor=!1,(0,m.Ht)(i.chroma),(0,m.Rt)(i.primary),(0,a.Et)()}))}))}))},863:function(n,t,e){var o=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function s(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,u)}c((o=o.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.v=function(n){return o(this,void 0,void 0,(function*(){let t=(yield(0,i.Xe)(n)).no;const e=r.L.status||(yield(0,i.T)("#status"));e&&e.classList.toggle("asri--non-protyle-status",!t)}))},t.D=function(){const n=r.L.status;if(!n)return;n.classList.remove("asri--non-protyle-status")};const i=e(629),r=e(49)},929:(n,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Nt=void 0,t.Nt={"prst-palette-auriflow":{dark:{primary:"#D2B983",chroma:"0.3",followSysAccentColor:!1},light:{primary:"#F4D18B",chroma:"0",followSysAccentColor:!1}},"prst-palette-everbliss":{dark:{primary:"#13012a",chroma:"1.5",followSysAccentColor:!1},light:{primary:"#F4CA57",chroma:"2.8",followSysAccentColor:!1}},"prst-palette-aerisland":{dark:{primary:"#111a3f",chroma:"2",followSysAccentColor:!1},light:{primary:"#e6f9db",chroma:"2",followSysAccentColor:!1}},"prst-palette-zerith":{dark:{primary:"#ABC3D9",chroma:"2.4",followSysAccentColor:!1},light:{primary:"#C2E2DF",chroma:"0.7",followSysAccentColor:!1}},"prst-palette-polar":{dark:{primary:"#E6E9EF",chroma:"0",followSysAccentColor:!1},light:{primary:"#1B1C1D",chroma:"0",followSysAccentColor:!1}},"prst-palette-stellula":{dark:{primary:"#3B2731",chroma:"0.6",followSysAccentColor:!1},light:{primary:"#FFF4EB",chroma:"2.5",followSysAccentColor:!1}}}},937:function(n,t,e){var o=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function s(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,u)}c((o=o.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ut=t.ho=t.vn=void 0,t.Sn=u,t.ye=function(n){const t="B"===n?s.L.bt:"L"===n?s.L.ht:s.L._t;return!(!t||t.classList.contains("layout--float"))},t.ke=function(n){const t="B"===n?s.L.bt:"L"===n?s.L.ht:s.L._t;let e;if(!t)return!1;e="B"===n?t.style.height:t.style.width;return!(!e||"0px"===e)},t.Me=function(n="L"){const t="B"===n?s.L.vt:"L"===n?s.L.dt:s.L.ft;return!(!t||!t.classList.contains("fn__none"))},t.we=function(){return o(this,void 0,void 0,(function*(){return s.L.vt||(yield(0,r.T)(".layout__dockb")),!(!s.L.vt||s.L.vt.classList.contains("fn__none"))}))},t.isFullScreen=function(){return!(!i.remote||!i.remote.getCurrentWindow().isFullScreen())},t.pe=function(){return!(!s.L.status||!s.L.status.classList.contains("fn__none"))},t.k=function(){return o(this,void 0,void 0,(function*(){return yield(0,r.Qe)('.layout__center [data-type="wnd"]').then((n=>{t.ut=n})),t.ut}))};const i=e(571),r=e(629),s=e(49);function u(){var n,e;s.L.toolbar&&(t.vn=(null===(n=s.L.toolbar)||void 0===n?void 0:n.scrollWidth)>s.L.toolbar.clientWidth,(null===(e=s.L.Ot)||void 0===e?void 0:e.classList.contains("fn__none"))||(t.vn=!0))}t.vn=!1,t.ho=(0,r.On)(u),t.ut=document.querySelectorAll('.layout__center [data-type="wnd"]')}},t={};function e(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return n[o].call(r.exports,r,r.exports,e),r.exports}e.d=(n,t)=>{for(var o in t)e._o(t,o)&&!e._o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},e._o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),e.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};(()=>{const n=e(2);(0,n.t)(),window.destroyTheme=()=>{let t=!0;setTimeout((()=>{const e=window.siyuan.config.appearance.themeLight,o=window.siyuan.config.appearance.themeDark;"Asri"===e&&"Asri"===o&&(t=!1),(0,n.F)(t)}),0)}})()})();